<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Decomposing Problems · CommonOPF</title><meta name="title" content="Decomposing Problems · CommonOPF"/><meta property="og:title" content="Decomposing Problems · CommonOPF"/><meta property="twitter:title" content="Decomposing Problems · CommonOPF"/><meta name="description" content="Documentation for CommonOPF."/><meta property="og:description" content="Documentation for CommonOPF."/><meta property="twitter:description" content="Documentation for CommonOPF."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CommonOPF</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">User Documentation</a></li><li><a class="tocitem" href="../inputs/">Inputs</a></li><li><a class="tocitem" href="../network/">The Network Model</a></li><li><a class="tocitem" href="../variables/">Variables for Mathematical Programs</a></li><li><a class="tocitem" href="../results/">Results</a></li><li><span class="tocitem">Methods</span><ul><li><a class="tocitem" href="../impedance_and_admittance/">Edge Impedances and Admittances</a></li><li><a class="tocitem" href="../graph_methods/">Graphs</a></li><li class="is-active"><a class="tocitem" href>Decomposing Problems</a></li></ul></li><li><a class="tocitem" href="../math/">Math</a></li><li><span class="tocitem">Developer</span><ul><li><a class="tocitem" href="../developer/developer/">Creating a <code>Network</code></a></li><li><a class="tocitem" href="../developer/impedance_and_admittance_methods/">Impedance and Admittance Methods</a></li><li><a class="tocitem" href="../developer/input_validation/">Input validators and Network builders</a></li><li><a class="tocitem" href="../developer/jump_variables/">JuMP Model Variables</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Methods</a></li><li class="is-active"><a href>Decomposing Problems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Decomposing Problems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/NLaws/CommonOPF.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/NLaws/CommonOPF.jl/blob/main/docs/src/decomposition.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Decomposing-Problems"><a class="docs-heading-anchor" href="#Decomposing-Problems">Decomposing Problems</a><a id="Decomposing-Problems-1"></a><a class="docs-heading-anchor-permalink" href="#Decomposing-Problems" title="Permalink"></a></h1><p>Methods to decompose and solve the <code>SinglePhase</code> Branch Flow Model are provided based on the work in  <a href="#[2]">[2]</a>. These methods are most advantageous when solving the non-linear (unrelaxed) power flow equations and are only valid(?) in radial networks.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CommonOPF.split_network" href="#CommonOPF.split_network"><code>CommonOPF.split_network</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">split_network(net::Network, bus::String)::Tuple{Network, Network}</code></pre><p>Split <code>net</code> into one <code>Network</code> for everything above <code>bus</code> and one <code>Network</code> for everything     below <code>bus</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L26-L31">source</a></section><section><div><pre><code class="language-julia hljs">split_network(net::Network, bus::String, out_busses::Vector{String})::Tuple{Network, Network}</code></pre><p>Split <code>net</code> into <code>net_above</code> and <code>net_below</code> where <code>net_below</code> has only <code>out_busses</code> and <code>net_above</code>  has <code>union( [bus], setdiff(busses(net), out_busses) )</code>. We want to keep bus in both networks because there can be multiple branches out of bus that are not in out_busses.</p><p>Note that <code>out_busses</code> must contain <code>bus</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L55-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CommonOPF.init_split_networks!" href="#CommonOPF.init_split_networks!"><code>CommonOPF.init_split_networks!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">init_split_networks!(nets::Vector{Network{SinglePhase}}; init_vs::Dict = Dict())</code></pre><p>Set the loads on the upstream leaf nodes equal to the sum of all the loads in the downstream nodes. It is important that the order of <code>nets</code> is from leaf branches to trunk branches so that the sums of loads take into account all downstream sub-trees.</p><p>if <code>init_vs</code> is provided, the <code>net.v0</code> is set for the <code>Input</code> with its <code>net.substation_bus</code> equal      to the key in <code>init_vs</code></p><pre><code class="language-julia hljs">init_vs = Dict(
    &quot;sub_bus_1&quot; =&gt; 0.98
)

for net in nets
    if net.substation_bus in keys(init_vs)
        net.v0 = init_vs[net.substation_bus]
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L85-L105">source</a></section><section><div><pre><code class="language-julia hljs">init_split_networks!(mg::MetaGraphsNext.MetaGraph; init_vs::Dict = Dict())</code></pre><p>Use the <code>:load_sum_order</code> in <code>mg</code> to <code>init_split_networks!</code> in the correct order, i.e. set the loads at the leaf - substation connections as sums of all the loads (and the voltages at substations)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L137-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CommonOPF.splitting_busses" href="#CommonOPF.splitting_busses"><code>CommonOPF.splitting_busses</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">splitting_busses(net::Network, source::String; threshold::Int64=10)</code></pre><p>Determine the busses to split a tree graph on by searching upward from the deepest leafs first and gathering the nearest busses until threshold is met for each subgraph.</p><p>Returns a <code>Vector{String}</code> for the bus names to split on and <code>Vector{Vector{String}}</code> for the  corresponding busses within each sub-graph.</p><div class="admonition is-info" id="Note-b3061501d53ae20f"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-b3061501d53ae20f" title="Permalink"></a></header><div class="admonition-body"><p>It is not enough to have only the splitting busses to obey the <code>max_busses</code> limit because one must also know which sub branches to take from each splitting bus. In other words, we also need all the busses within each subgraph to split properly. For example, if a splitting bus has two sub branches then obeying the max_busses limit can require only including one sub branch out of the splitting bus. To know which branch to take we can use the other busses in the sub graph (which is why this method also returns the bussed in each subgraph).</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L176-L192">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CommonOPF.split_at_busses" href="#CommonOPF.split_at_busses"><code>CommonOPF.split_at_busses</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">split_at_busses(net::Network, at_busses::Vector{String})</code></pre><p>Split <code>net.graph</code> using the <code>at_busses</code></p><p>returns directed <code>MetaGraph</code> with vertices containing <code>Network</code> for the sub-graphs using integer  vertex labels. For example <code>mg[2]</code> is the <code>Network</code> at the second vertex of the graph created by  splitting the network via the <code>at_busses</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L239-L247">source</a></section><section><div><pre><code class="language-julia hljs">split_at_busses(net::Network, at_busses::Vector{String}, with_busses::Vector{Vector{String}})</code></pre><p>Split up <code>p</code> using the <code>at_busses</code> as each new <code>substation_bus</code> and containing the corresponding <code>with_busses</code>. The <code>at_busses</code> and <code>with_busses</code> can be determined using <code>splitting_busses</code>.</p><p>NOTE: this variation of splt<em>at</em>busses allows for more than two splits at the same bus; whereas the other implementation of split<em>at</em>busses only splits the network into two parts for everything above and everything below a splitting bus.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NLaws/CommonOPF.jl/blob/f29d986fb89d179eb9789e26cbb050d9f40bdf15/src/decomposition.jl#L300-L309">source</a></section></article><h3 id="[2]"><a class="docs-heading-anchor" href="#[2]">[2]</a><a id="[2]-1"></a><a class="docs-heading-anchor-permalink" href="#[2]" title="Permalink"></a></h3><p>Sadnan, Rabayet, and Anamika Dubey. &quot;Distributed optimization using reduced network equivalents for radial power distribution systems.&quot; IEEE Transactions on Power Systems 36.4 (2021): 3645-3656.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../graph_methods/">« Graphs</a><a class="docs-footer-nextpage" href="../math/">Math »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 3 June 2025 02:57">Tuesday 3 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
